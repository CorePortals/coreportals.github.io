<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CorePortals</title>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
<style>
:root{--bg:#2a1873;--panel:#101622;--tile:#0e161e;--ring:#d6e3ee;--ring-soft:rgba(214,227,238,.16);--muted:#9fb0c1;--text:#eaf3f9;--accent:#7ee0ff;--logo-lift:18px}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:radial-gradient(1000px 700px at 20% -10%,#3c1b9e 0%,#2a1873 60%,#1a144e 100%);color:var(--text);font-family:"Lexend",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;overflow-x:hidden}
.bg-waves{pointer-events:none;position:fixed;inset:0;z-index:-3;filter:blur(30px)}
.bg-waves::before,.bg-waves::after{content:"";position:absolute;inset:-20%;background:radial-gradient(40% 60% at 20% 30%,rgba(255,255,255,.08),transparent 60%),radial-gradient(30% 50% at 70% 10%,rgba(126,224,255,.18),transparent 60%),radial-gradient(35% 55% at 80% 80%,rgba(255,0,150,.12),transparent 60%),radial-gradient(45% 45% at 20% 85%,rgba(120,70,255,.18),transparent 60%);animation:flow 18s ease-in-out infinite alternate}
.bg-waves::after{animation-duration:26s;mix-blend-mode:screen;opacity:.8}
@keyframes flow{0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(-4%,2%,0) scale(1.05)}100%{transform:translate3d(4%,-3%,0) scale(1.02)}}
#stars{position:fixed;inset:0;z-index:-2;display:block;background:transparent}
.container{max-width:1200px;margin:0 auto;padding:40px 24px}

/* ===== Smaller nav bar (tabs + logo) ===== */
.nav{margin-top:6px;background:var(--panel);border:4px solid var(--ring);border-radius:16px;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:12px;padding:12px 16px;box-shadow:0 10px 26px rgba(0,0,0,.35);overflow:visible}
.nav-left,.nav-right{display:flex;align-items:center}
.nav-left{justify-content:flex-end;gap:18px;position:relative}
.nav-right{justify-content:flex-start;gap:18px;position:relative}
.nav-left::after,.nav-right::before{content:"";display:block;width:2px;height:24px;background:var(--ring);border-radius:1px;opacity:.95}
.nav-left::after{margin-left:12px}
.nav-right::before{margin-right:12px}

/* Logo slightly lifted, but smaller */
.brand{height:118px;width:308px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.18));border-radius:24px;position:relative;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 24px rgba(0,0,0,.35);transform:translateY(calc(-1 * var(--logo-lift)));z-index:2}
.brand::after{content:"";position:absolute;inset:0;border-radius:24px;border:2px solid var(--ring);outline:6px solid var(--ring-soft)}
.brand img{max-width:90%;max-height:82%;object-fit:contain;display:block;filter:drop-shadow(0 2px 8px rgba(0,0,0,.45))}

/* Tabs a touch smaller to match */
.tab-btn{background:transparent;border:none;color:var(--muted);font-weight:700;letter-spacing:.2px;font-size:20px;padding:8px 6px;cursor:pointer;position:relative;user-select:none}
.tab-btn:hover{color:#cfe0ea}
.tab-btn:focus-visible{outline:2px solid var(--accent);outline-offset:4px;border-radius:6px}
.tab-btn.active{color:var(--accent)}
.tab-btn.active::after{content:"";position:absolute;left:8%;right:8%;bottom:-10px;height:3px;background:var(--accent);border-radius:2px}

/* Rest unchanged */
.filters{display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin:26px 0 8px}
.search{width:min(560px,88vw);height:52px;padding:0 16px;background:#131d25;border:4px solid var(--ring);border-radius:12px;color:var(--text);font-size:17px}
.search::placeholder{color:var(--muted);opacity:.9}
.select{height:52px;padding:0 14px;background:#131d25;border:4px solid var(--ring);border-radius:12px;color:var(--text);font-size:16px;min-width:220px}
.hidden{display:none !important}
.stats{text-align:center;color:var(--muted);font-size:14px;margin-top:6px}
.tabs{margin-top:16px}
.tab-panel{display:none;animation:fade .25s ease}
.tab-panel.active{display:block}

.grid{display:grid;grid-template-columns:repeat(5,minmax(160px,1fr));gap:28px;padding:18px 6px 8px}
.card{background:var(--tile);border:4px solid var(--ring);border-radius:22px;height:196px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease;box-shadow:0 10px 26px rgba(0,0,0,.35);text-align:center}
.card:hover{transform:translateY(-4px);border-color:#fff}
.card.disabled{cursor:default}
.card.disabled:hover{transform:none;border-color:var(--ring)}
.logo-img{width:104px;height:104px;border-radius:14px;background:#0a1218;object-fit:contain;display:block}
.title{font-size:15px;font-weight:700;line-height:1.15;padding:0 10px;color:#f5fbff}
.sub{font-size:12px;color:var(--muted);padding:0 10px;word-break:break-all}

.overlay{position:fixed;inset:0;background:rgba(0,0,0,.96);display:none;z-index:40;align-items:center;justify-content:center}
.player{position:relative;width:100%;height:100%}
.player iframe{border:0;width:100%;height:100%}
.controls{position:absolute;left:0;right:0;bottom:20px;display:flex;justify-content:center;gap:12px;z-index:50}
.btn{background:rgba(255,255,255,.08);color:#fff;border:1px solid #cfe0ea;border-radius:10px;padding:12px 18px;font-weight:700;cursor:pointer}
.btn:hover{background:rgba(255,255,255,.14)}
footer{color:var(--muted);font-size:14px;text-align:center;padding:28px 0 36px}
@keyframes fade{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}

/* Long bar style for Events & Updates */
.tab-panel#events .grid,.tab-panel#updates .grid{grid-template-columns:1fr}
.card.bar{flex-direction:row;align-items:center;justify-content:flex-start;gap:16px;height:96px;padding:0 16px;text-align:left}
.card.bar .logo-img{width:64px;height:64px;border-radius:12px}
.card.bar .title{font-size:16px}
.card.bar .sub{font-size:13px}

/* Responsive */
@media (max-width:860px){
  .nav{grid-template-columns:1fr;gap:12px}
  .nav-left,.nav-right{justify-content:center;gap:16px}
  .nav-left::after,.nav-right::before{display:none}
  .brand{height:108px;width:268px;transform:none}
}
@media (max-width:620px){
  .tab-btn{font-size:19px}
  .grid{grid-template-columns:repeat(2,minmax(130px,1fr));gap:18px}
  .brand{height:100px;width:248px}
  .card{height:184px}
}
</style>
</head>
<body>
<canvas id="stars"></canvas>
<div class="bg-waves"></div>

<div class="container">
  <nav class="nav" role="tablist" aria-label="Sections">
    <div class="nav-left">
      <button class="tab-btn active" data-tab="games">Games</button>
      <button class="tab-btn" data-tab="events">Events</button>
    </div>

    <div class="brand" aria-hidden="true">
      <img src="https://coreportals.github.io/images/logo.png" alt="CorePortals Logo">
    </div>

    <div class="nav-right">
      <button class="tab-btn" data-tab="proxies">Proxies</button>
      <button class="tab-btn" data-tab="updates">Updates</button>
    </div>
  </nav>

  <div class="filters" id="filters">
    <input id="search" class="search" type="text" placeholder="Search..." autocomplete="off">
    <select id="category" class="select" aria-label="Filter by category">
      <option value="All">All Categories</option>
    </select>
  </div>
  <div class="stats" id="stats"></div>

  <section class="tabs">
    <div id="games" class="tab-panel active"><div class="grid" id="gameGrid"></div></div>
    <div id="events" class="tab-panel"><div class="grid" id="eventGrid"></div></div>
    <div id="proxies" class="tab-panel"><div class="grid" id="proxyGrid"></div></div>
    <div id="updates" class="tab-panel"><div class="grid" id="updateGrid"></div></div>
  </section>
</div>

<div class="overlay" id="overlay">
  <div class="player">
    <iframe id="frame" src=""></iframe>
    <div class="controls">
      <button class="btn" id="back"><i class="fa-solid fa-arrow-left"></i> Back</button>
      <button class="btn" id="full"><i class="fa-solid fa-expand"></i> Fullscreen</button>
    </div>
  </div>
</div>

<footer>© 2025 CorePortals</footer>

<script>
const games = [
  { name:"2048", url:"https://xpixelcoderx.github.io/games/2048/", category:"Puzzle", img:"/images/games/2048.png" },
  { name:"1v1lol", url:"https://xpixelcoderx.github.io/games/1v1lol/", category:"Shooter", img:"https://coreportals.github.io/images/games/1v1lol.png" },
  { name:"Geometry Dash", url:"https://xpixelcoderx.github.io/games/geometrydash/", category:"Platform", img:"https://coreportals.github.io/images/games/geometry-dash.png" },
  { name:"Cookie Clicker", url:"https://xpixelcoderx.github.io/games/cookie-clicker/", category:"Clicker", img:"https://coreportals.github.io/images/games/cookie-clicker.png" },
  { name:"Retro Bowl", url:"https://xpixelcoderx.github.io/games/retro-bowl/", category:"Sports", img:"https://coreportals.github.io/images/games/retro-bowl.png" },
  { name:"Slope", url:"https://xpixelcoderx.github.io/games/slope/", category:"Arcade", img:"https://coreportals.github.io/images/games/slope.png" },
  { name:"Tunnel Rush", url:"https://xpixelcoderx.github.io/games/tunnel-rush/", category:"Arcade", img:"https://coreportals.github.io/images/games/tunnel-rush.png" },
  { name:"Getting Over It", url:"https://xpixelcoderx.github.io/games/getting-over-it/", category:"Puzzle", img:"https://coreportals.github.io/images/games/getting-over-it.png" },
  { name:"Krunker", url:"https://xpixelcoderx.github.io/games/krunker/", category:"Shooter", img:"https://coreportals.github.io/images/games/krunker.png" },
  { name:"Flappy Bird", url:"https://xpixelcoderx.github.io/games/flappy-bird/", category:"Arcade", img:"https://coreportals.github.io/images/games/flappy-bird.png" },
  { name:"Subway Surfers", url:"https://xpixelcoderx.github.io/games/subway-surfers/", category:"Arcade", img:"https://coreportals.github.io/images/games/subway-surfers.png" },
  { name:"Minecraft", url:"https://xpixelcoderx.github.io/games/minecraft/", category:"Sandbox", img:"https://coreportals.github.io/images/games/minecraft.png" },
  { name:"Mario", url:"https://xpixelcoderx.github.io/games/mario/", category:"Platform", img:"https://coreportals.github.io/images/games/mario.png" },
  { name:"Happy Wheels", url:"https://xpixelcoderx.github.io/games/happy-wheels/", category:"Racing", img:"https://coreportals.github.io/images/games/happy-wheels.png" },
  { name:"Vex 6", url:"https://xpixelcoderx.github.io/games/vex6/", category:"Platform", img:"https://coreportals.github.io/images/games/vex6.png" },
  { name:"Tiny Fishing", url:"https://xpixelcoderx.github.io/games/tiny-fishing/", category:"Simulation", img:"https://coreportals.github.io/images/games/tiny-fishing.png" },
  { name:"Getaway Shootout", url:"https://xpixelcoderx.github.io/games/getaway-shootout/", category:"Action", img:"https://coreportals.github.io/images/games/getaway-shootout.png" },
  { name:"Stickman Survival", url:"https://xpixelcoderx.github.io/games/stickman-survival/", category:"Action", img:"https://coreportals.github.io/images/games/stickman-survival.png" },
  { name:"Temple Run 2", url:"https://xpixelcoderx.github.io/games/temple-run-2/", category:"Arcade", img:"https://coreportals.github.io/images/games/temple-run-2.png" },
  { name:"Among Us", url:"https://xpixelcoderx.github.io/games/among-us/", category:"Social", img:"https://coreportals.github.io/images/games/among-us.png" }
];

const events = [
  { name:"CorePortals launch window announced — stay tuned!", category:"Announcement", img:"https://coreportals.github.io/images/logo.png" },
  { name:"Community tournament coming soon", category:"Event", img:"https://coreportals.github.io/images/logo.png" }
];

const proxies = [
  { name:"Ghost Proxy", url:"https://1.jobvn.com", category:"Network", img:"https://coreportals.github.io/images/proxies/ghost-proxy.png" }
];

const updates = [
  { name:"No updates yet", category:"Status", img:"https://coreportals.github.io/images/logo.png" }
];

const tabData = { games, events, proxies, updates };

const el = {
  gameGrid: document.getElementById("gameGrid"),
  eventGrid: document.getElementById("eventGrid"),
  proxyGrid: document.getElementById("proxyGrid"),
  updateGrid: document.getElementById("updateGrid"),
  stats: document.getElementById("stats"),
  search: document.getElementById("search"),
  category: document.getElementById("category"),
  overlay: document.getElementById("overlay"),
  frame: document.getElementById("frame")
};

document.querySelectorAll(".tab-btn").forEach(b=>{
  b.addEventListener("click",()=>{
    document.querySelectorAll(".tab-btn").forEach(x=>x.classList.remove("active"));
    document.querySelectorAll(".tab-panel").forEach(p=>p.classList.remove("active"));
    b.classList.add("active");
    document.getElementById(b.dataset.tab).classList.add("active");
    buildFilters(b.dataset.tab);
    render(b.dataset.tab);
  });
});

el.search.addEventListener("input", ()=>render(currentTab()));
el.category.addEventListener("change", ()=>render(currentTab()));
document.getElementById("back").addEventListener("click", closeOverlay);
document.getElementById("full").addEventListener("click", ()=>{const f=el.frame;if(f.requestFullscreen) f.requestFullscreen()});

function currentTab(){return document.querySelector(".tab-btn.active").dataset.tab}

function createCard(item, type){
  const isTextOnly = (type==="events"||type==="updates");
  const c = document.createElement("div");
  c.className = isTextOnly ? "card bar disabled" : "card";
  const img = document.createElement("img");
  img.className = "logo-img";
  img.alt = item.name;
  img.src = item.img || "https://coreportals.github.io/images/logo.png";
  const t = document.createElement("div");
  t.className = "title";
  t.textContent = item.name;
  const s = document.createElement("div");
  s.className = "sub";
  if(type==="games"){ s.textContent = (item.category||"") }
  else if(type==="proxies"){ s.textContent = (item.category||"") + (item.url?(" • "+item.url):"") }
  else { s.textContent = (item.category||"") }
  c.appendChild(img); c.appendChild(t); c.appendChild(s);
  if(!isTextOnly){ c.addEventListener("click",()=>openOverlay(item.url)) }
  return c;
}

function render(tab){
  const grid = {games:el.gameGrid,events:el.eventGrid,proxies:el.proxyGrid,updates:el.updateGrid}[tab];
  grid.innerHTML = "";
  const q = el.search.value.trim().toLowerCase();
  const cat = el.category.value;
  const list = (tabData[tab]||[]).filter(it=>{
    const byText = !q || it.name.toLowerCase().includes(q) || (it.category||"").toLowerCase().includes(q) || (it.url||"").toLowerCase().includes(q);
    const byCat = cat==="All" || (it.category||"")===cat;
    return byText && byCat;
  });
  if(list.length===0){
    const t = {name:"No items yet", category:"Template", img:"/images/logo.png"};
    grid.appendChild(createCard(t, tab));
  }else{
    list.forEach(it=>grid.appendChild(createCard(it, tab)));
  }
  el.stats.textContent = `${capitalize(tab)} • Total: ${(tabData[tab]||[]).length} • Showing: ${list.length}`;
}

function buildFilters(tab){
  const cats = Array.from(new Set((tabData[tab]||[]).map(x=>x.category||"General")));
  el.category.innerHTML = `<option value="All">All Categories</option>` + cats.map(c=>`<option value="${c}">${c}</option>`).join("");
  el.search.value = "";
}

function openOverlay(url){ if(!url) return; el.frame.src=url; el.overlay.style.display="flex" }
function closeOverlay(){ el.frame.src=""; el.overlay.style.display="none" }
function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}

function init(){ buildFilters("games"); render("games"); starfield() }
window.addEventListener("load", init);

function starfield(){
  const canvas=document.getElementById("stars"); const ctx=canvas.getContext("2d"); let w,h,stars=[];
  function resize(){ w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight; stars=Array.from({length:Math.min(450,Math.floor(w*h/4500))}).map(()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.1+0.2,a:Math.random()*0.6+0.2,v:(Math.random()*0.8+0.2)*0.01})) }
  function draw(){ ctx.clearRect(0,0,w,h); ctx.fillStyle="#ffffff"; stars.forEach(s=>{ s.a+=s.v; const tw=0.5+0.5*Math.sin(s.a); ctx.globalAlpha=0.2+0.8*tw; ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill() }); ctx.globalAlpha=1; requestAnimationFrame(draw) }
  window.addEventListener("resize", resize); resize(); draw();
}
</script>
</body>
</html>
